{% extends "base.html" %}

{% block title %}Add Lumber Output{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">Add Lumber Output</h1>
        <p class="text-gray-600 mt-2">
            <span class="font-semibold">Service Order #{{ order.id }}</span> - {{ order.customer.name }}
        </p>
    </div>
    
    <div class="bg-white rounded-lg shadow-md overflow-hidden">
        <form method="post" novalidate class="p-8">
            {% csrf_token %}
            
            <!-- Lumber Details Section -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-gray-900 mb-6 flex items-center">
                    <i class="fas fa-hammer text-amber-600 mr-3"></i>
                    Lumber Details
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="lumber_type" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-star text-red-500"></i> Lumber Type
                        </label>
                        <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="lumber_type" name="lumber_type" placeholder="e.g., 2x4, 1x12, 4x6" required>
                    </div>
                    
                    <div>
                        <label for="quantity_pieces" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-star text-red-500"></i> Quantity (Pieces)
                        </label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="quantity_pieces" name="quantity_pieces" min="1" required>
                    </div>
                </div>
            </div>

            <div class="border-t border-gray-200 my-8"></div>
            
            <!-- Dimensions Section -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-gray-900 mb-6 flex items-center">
                    <i class="fas fa-ruler text-blue-600 mr-3"></i>
                    Dimensions
                </h2>
                <p class="text-sm text-gray-600 mb-6"><i class="fas fa-lightbulb mr-2 text-yellow-500"></i>All dimensions will be used to calculate board feet automatically</p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div>
                        <label for="length_feet" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-star text-red-500"></i> Length (feet)
                        </label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="length_feet" name="length_feet" step="0.01" min="0" placeholder="e.g., 12" required>
                    </div>
                    
                    <div>
                        <label for="width_inches" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-star text-red-500"></i> Width (inches)
                        </label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="width_inches" name="width_inches" step="0.01" min="0" placeholder="e.g., 3.5" required>
                    </div>
                    
                    <div>
                        <label for="thickness_inches" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fas fa-star text-red-500"></i> Thickness (inches)
                        </label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="thickness_inches" name="thickness_inches" step="0.01" min="0" placeholder="e.g., 1.5" required>
                    </div>
                </div>
                
                <!-- Formula Display -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6">
                    <p class="text-sm text-blue-900">
                        <i class="fas fa-calculator text-blue-600 mr-2"></i>
                        <strong>Board Feet Formula:</strong> (Length × Width × Thickness ÷ 12) × Quantity Pieces
                    </p>
                </div>
            </div>

            <div class="border-t border-gray-200 my-8"></div>
            
            <!-- Quality Grade Section -->
            <div class="mb-8">
                <label for="grade" class="block text-sm font-medium text-gray-700 mb-2">Quality Grade (Optional)</label>
                <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="grade" name="grade">
                    <option value="">Not Specified</option>
                    <option value="select">Select</option>
                    <option value="common1" selected>Common #1</option>
                    <option value="common2">Common #2</option>
                    <option value="common3">Common #3</option>
                </select>
            </div>
            
            <!-- Notes Section -->
            <div class="mb-8">
                <label for="notes" class="block text-sm font-medium text-gray-700 mb-2">Notes (Optional)</label>
                <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent" id="notes" name="notes" rows="3" placeholder="Any special notes about this lumber batch..."></textarea>
            </div>
            
            <!-- Action Buttons -->
            <div class="border-t border-gray-200 pt-8 flex gap-3">
                <button type="submit" class="inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition duration-200 font-medium shadow-md">
                    <i class="fas fa-save mr-2"></i>
                    <span>Save Output</span>
                </button>
                <a href="{% url 'lumbering_service:order_detail' order.id %}" class="inline-flex items-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition duration-200 font-medium">
                    <i class="fas fa-times mr-2"></i>
                    <span>Cancel</span>
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
